---
title: "`rrr` for Canonical Variate Analysis"
author: "Chris Addy"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r}
### COMBO-17 galaxy data
data(COMBO17)
galaxy <- as_data_frame(COMBO17) %>%
       select(-starts_with("e."), -Nr, -UFS:-IFD) %>%
       na.omit()

#glimpse(galaxy)
```

```{r}
galaxy_x <- galaxy %>%
	select(-Rmag:-chi2red)

galaxy_y <- galaxy %>%
	select(Rmag:chi2red)
```

```{r}
GGally::ggcorr(galaxy_x)
```

```{r}
GGally::ggcorr(galaxy_y)
```

```{r}
rrcva(galaxy_x, galaxy_y, rank = 2, k = 0.0001)
```

```{r}
cva_rank_trace_plot(galaxy_x, galaxy_y)
```

```{r}
cva_rank_trace_plot(galaxy_x, galaxy_y)
```

```{r}
cva_residual_plot(galaxy_x, galaxy_y, rank = 2, k = 0.001)
```

```{r}
cv_pairwise_plot(galaxy_x, galaxy_y, cv_pair = 1, k = 0.0001)

cv_pairwise_plot(galaxy_x, galaxy_y, cv_pair = 2, k = 0.0001)
```